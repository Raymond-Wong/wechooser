{% extends 'customize/widgets/base.html' %}

{% block style %}
<link type="text/css" rel="stylesheet" href="/static/customize/css/material.css">
<link type="text/css" rel="stylesheet" href="/static/transmit/css/transmit.css">
{% endblock %}

{% block page %}
<h1 id="replyHead">自定义用户名片</h1>
<div class="pageWrapper">
  <div class="nameCardStyleBox stepBox">
    <div class="stepBoxTitle">第一步：设置名片样式</div>
    <div class="hint">
      头像尺寸为用户头像半径；头像位置为头像左上角点相对于整张图片左上角的坐标值(x, y)；<br>
      昵称尺寸为昵称字体的大小；昵称位置为从图片顶端到字体的垂直距离；<br>
      二维码尺寸为二维码图片的宽度（长度）；<br>
      二维码位置为二维码图片左上角相对于图片左上角的坐标(x, y)；<br>
      头像尺寸单位为相对于背景图片宽度的百分比<br>
      昵称尺寸单位为像素<br>
      x坐标单位为相对背景图片宽度的百分比，y坐标单位为相对背景图片高度的百分比
    </div>
    <div class="settingArea left">
      <div class="line">
        <div class="lineLabel left">背景图片</div>
        <input type="text" readonly placeholder="背景图片地址" name="bg" id="bg" value="{{ template.bg }}"/>
        <button class="uploadImgBtn" target="bg">点击上传</button>
      </div>
      <div class="line">
        <div class="lineLabel left">头像尺寸</div>
        <input type="number" min="0" placeholder="头像直径" name="head_diameter" value="{{ template.head_diameter}}" />
      </div>
      <div class="line">
        <div class="lineLabel left">头像位置</div>
        <input type="number" min="0" placeholder="头像x坐标" name="head_x" value="{{ template.head_x }}"/>
        <input type="number" min="0" placeholder="头像y坐标" name="head_y" value="{{ template.head_y }}" />
      </div>
      <div class="line">
        <div class="lineLabel left">昵称尺寸</div>
        <input type="number" min="0" placeholder="昵称字体大小" name="name_fontsize" value="{{ template.name_fontsize}}" />
      </div>
      <div class="line">
        <div class="lineLabel left">昵称位置</div>
        <input type="number" min="0" placeholder="昵称y坐标" name="name_y" value="{{ template.name_y }}" />
      </div>
      <div class="line">
        <div class="lineLabel left">二维码尺寸</div>
        <input type="number" min="0" placeholder="二维码大小" name="qrcode_size" value="{{ template.qrcode_size }}" />
      </div>
      <div class="line">
        <div class="lineLabel left">二维码位置</div>
        <input type="number" min="0" placeholder="二维码x坐标" name="qrcode_x" value="{{ template.qrcode_x }}" />
        <input type="number" min="0" placeholder="二维码y坐标" name="qrcode_y" value="{{ template.qrcode_y }}" />
      </div>
    </div>
    <div class="previewArea left">
      <div class="previewLoad">刷新中...</div>
      <div class="previewBox"><img title="右键，在新窗口打开图片以浏览大图" src="" /></div>
      <button class="refreshPreviewBtn btn" id="refreshPreviewBtn">刷新预览图</button>
    </div>
    <div class="clear"></div>
  </div>
  <div class="stepBox">
    <div class="stepBoxTitle">第二步：设置获取名片方式</div>
    <div class="gainCardMethodBox" type="{{ template.gain_card_method }}" keyword="{{ template.keyword }}" mid="{{ template.mid }}">
      <div class="line">
        <div class="lineLabel left">关键词</div>
        <input type="text" name="gainCardKw" />
      </div>
      <div class="line">
        <div class="lineLabel left">名片链接</div>
        <input type="text" readonly value="{{ url }}" width="25em" />
      </div>
    </div>
  </div>
  <div class="stepBox">
    <div class="stepBoxTitle">第三步：设置名片分享的达标数量</div>
    <div class="line">
      <div class="lineLabel left">达标数量</div>
      <input type="number" min="0" name="target" value="{{ template.target }}" placeholder="名片分享的达标数量" />
    </div>
  </div>
  <div class="stepBox">
    <div class="stepBoxTitle">第四步：设置回复内容</div>
    <div class="msgBox">
      <div class="msgOptionBox">
        <div class="msgOption left" name="invited_msg" value="{{ template.invited_msg }}">被邀请者收到的内容</div>
        <div class="msgOption left" name="goal_msg" value="{{ template.goal_msg }}">达标后收到的内容</div>
        <div class="clear"></div>
      </div>
      <div class="msgContent">
        {% include 'customize/widgets/material.html' %}
      </div>
    </div>
  </div>
  <div id="btnWrapper">
    <div class="btn left" id="submit">保存</div>
    <div class="btn wait left" onclick="window.location.href=window.location.href;">取消</div>
    <div class="clear"></div>
  </div>
</div>
{% endblock %}

{% block script %}
<script type="text/javascript" src="/static/plugin/fileUpload/js/vendor/jquery.ui.widget.js"></script>
<script type="text/javascript" src="/static/plugin/fileUpload/js/jquery.iframe-transport.js"></script>
<script type="text/javascript" src="/static/plugin/fileUpload/js/jquery.fileupload.js"></script>
<script type="text/javascript" src="/static/customize/js/material.js"></script>
<script type="text/javascript" src="/static/transmit/js/transmit.js"></script>
{% endblock %}